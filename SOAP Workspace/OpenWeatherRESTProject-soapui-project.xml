<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="9d4edc53-6cff-4c19-bb4d-fe90745fc6f8" activeEnvironment="Default" name="OpenWeatherRESTProject" soapui-version="5.4.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="da51c6be-85a8-4097-8d81-82f42dfc9348" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://api.openweathermap.org" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://api.openweathermap.org</con:endpoint></con:endpoints><con:resource name="Weather" path="/data/2.5/weather" id="9870d6e4-14ad-4afc-b76e-992d9bbc0a19"><con:settings/><con:parameters><con:parameter><con:name>q</con:name><con:value>London</con:value><con:style>QUERY</con:style><con:default>London</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>appid</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Weather 1" id="275906a0-aec5-43ab-8853-a0def58c2fe9" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:weat="http://api.openweathermap.org/data/2.5/weather">weat:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:weat="http://api.openweathermap.org/data/2.5/weather">weat:Fault</con:element></con:representation><con:request name="Request 1-ByPlace" id="292ee345-84e8-42de-b463-6e5c55558fd0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value="London"/>
  <con:entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9"/>
</con:parameters><con:parameterOrder><con:entry>q</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="weather" path="/data/2.5/weather" id="346df650-d596-4d1e-9534-a2644096b433"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>2172797</con:value><con:style>QUERY</con:style><con:default>2172797</con:default></con:parameter><con:parameter><con:name>appid</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="df1c6824-ed7c-424f-b3c9-15c74bf0ab1a" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:weat="http://api.openweathermap.org/data/2.5/weather">weat:Response</con:element></con:representation><con:request name="Request 1-ByID" id="b75219f6-a897-4488-a31d-76d9003e5823" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="8f6e9e14-abca-41f9-be83-ee3bb7bf418a" name="WeatherData"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="058c4d8d-fef8-420c-8738-4315ebdd8e6b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherDataTestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SearchWeatherByPlaceName" id="0b0701ef-a386-47b1-be4e-12adea4974c6"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="Weather 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchWeatherByPlaceName" id="292ee345-84e8-42de-b463-6e5c55558fd0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="98078b32-d0c0-469e-81cc-4df196909741" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value="chennai"/>
  <con:entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9"/>
</con:parameters><con:parameterOrder><con:entry>q</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer- PlacetoID" id="a00883ef-7725-456b-839a-9f1b44408842"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>placetoid</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>SearchWeatherByPlaceName</con:sourceStep><con:sourcePath>id</con:sourcePath><con:targetType>id</con:targetType><con:targetStep>SearchWeatherBy PlaceID</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="SearchWeatherBy PlaceID" id="c1049a52-7dbd-45c4-87e5-17ebb40e332b"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchWeatherBy PlaceID" id="b75219f6-a897-4488-a31d-76d9003e5823" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4301f559-84af-4cf2-ab6e-65c497b2a4c2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9"/>
  <con:entry key="id" value="1264527"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="SearchWeatherByPlaceNamewithScriptAssertion" id="99d65c12-0f2d-4dae-8ea3-404ec3d469ba"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="Weather 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchWeatherByPlaceNamewithScriptAssertion" id="292ee345-84e8-42de-b463-6e5c55558fd0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="98078b32-d0c0-469e-81cc-4df196909741" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9c9fb917-d2b6-41e0-a7eb-08593fccdb2c" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
//Get resposne from message content
response = messageExchange.response.responseContent

//Changing response format to JSON
parsejson = new JsonSlurper().parseText(response)

//Saving status code from response to variable
HTTPCode = parsejson.cod
log.info parsejson.weather[0].id
log.info HTTPCode

//assert status code from response
assert (HTTPCode == 200)</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value="chennai"/>
  <con:entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9"/>
</con:parameters><con:parameterOrder><con:entry>q</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="2166e509-b434-4b6f-8da0-c520c6780b4e" name="WeatherDataPropTransTS1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="de76815e-4b60-42ad-a586-214756d314fa" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherDataTestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SearchWeatherByPlaceName" id="10610896-2261-464e-87c3-4a538c282c8e"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="Weather 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchWeatherByPlaceName" id="292ee345-84e8-42de-b463-6e5c55558fd0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="98078b32-d0c0-469e-81cc-4df196909741" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value="chennai"/>
  <con:entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9"/>
</con:parameters><con:parameterOrder><con:entry>q</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script-PropTransREST" id="f1406fd7-c1e2-4ca7-a737-960768c937ad"><con:settings/><con:config><script>import groovy.json.JsonSlurper

//Run search by place on same test suite
RunSearchWeatherByPlaceName = testRunner.testCase.testSteps["SearchWeatherByPlaceName"];
RunSearchWeatherByPlaceName.run(testRunner,context);

//Get content of the response
GetRepponse = context.expand('${SearchWeatherByPlaceName#response}')

//Converting response to JSON format
pasrjson = new JsonSlurper().parseText(GetRepponse);

//Saving ID value from response
IDValue= pasrjson.id

//converting integer ID value to string
IDValuseString=IDValue.toString();

//Printing ID value on console
log.info IDValuseString

//Saving through local set property
//context.setProperty("ID",IDValue)

//Saving through global property
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("IDG",IDValuseString);

//Running search by ID on another test suite
RunSearchWeatherByPlaceName = testRunner.testCase.testSuite.project.testSuites["WeatherDataPropTransTS2"].testCases["WeatherDataTestCase"].testSteps["SearchWeatherBy PlaceID"]
RunSearchWeatherByPlaceName.run(testRunner,context);</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="e6249203-b1cc-4708-9d39-6e05c25b453c" name="WeatherDataPropTransTS2"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="57e41b21-8c6b-43aa-98d7-7162771ac2b3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherDataTestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SearchWeatherBy PlaceID" id="86f325af-0b91-497a-8815-47d6ed5e42cb"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchWeatherBy PlaceID" id="b75219f6-a897-4488-a31d-76d9003e5823" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4301f559-84af-4cf2-ab6e-65c497b2a4c2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9"/>
  <con:entry key="id" value="${IDG}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="686d343e-3752-4346-bbf2-ae138e6a4237" name="WeatherDataPropTransTS4"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="4bc6c3ae-ca16-476c-8956-2be8076df6e9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherDataTestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SearchWeatherBy PlaceID" id="11992bf4-442d-4e6a-bbdb-a89520b436ea"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchWeatherBy PlaceID" id="b75219f6-a897-4488-a31d-76d9003e5823" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4301f559-84af-4cf2-ab6e-65c497b2a4c2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9"/>
  <con:entry key="id" value="${IDGR}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script-PropTransRESTRev" id="29032ae8-e44a-40a6-8491-fd084eff5915"><con:settings/><con:config><script>import groovy.json.JsonSlurper
import com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext

//Run search by place on same test suite
RunSearchWeatherByPlaceName = testRunner.testCase.testSuite.project.testSuites["WeatherDataPropTransTS3"].testCases["WeatherDataTestCase"].testSteps["SearchWeatherByPlaceName"];
RunSearchWeatherByPlaceName.run(testRunner,context);

//Get response from different suite b changing the context
differentcontext= new WsdlTestRunContext(RunSearchWeatherByPlaceName)
//Get content of the response
GetRepponse = differentcontext.expand('${SearchWeatherByPlaceName#response}')

//Converting response to JSON format
pasrjson = new JsonSlurper().parseText(GetRepponse);

//Saving ID value from response
IDValue= pasrjson.id

//converting integer ID value to string
IDValuseString=IDValue.toString();

//Printing ID value on console
log.info IDValuseString

//Saving through local set property
//context.setProperty("ID",IDValue)

//Saving through global property
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("IDGR",IDValuseString);

RunSearchWeatherByPlaceName = testRunner.testCase.testSteps["SearchWeatherBy PlaceID"]
RunSearchWeatherByPlaceName.run(testRunner,context);</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="73cda089-2b07-4ede-923c-9f95d75f4f66" name="WeatherDataPropTransTS3"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="035d624f-e659-4f45-9dfa-bb8e7e6e069e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherDataTestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SearchWeatherByPlaceName" id="bf540854-53f0-4ee5-a27f-68936e49452b"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="Weather 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchWeatherByPlaceName" id="292ee345-84e8-42de-b463-6e5c55558fd0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="98078b32-d0c0-469e-81cc-4df196909741" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="appid" value="5f5a71547ffb9c91dda686cf738d5bd9" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>q</con:entry><con:entry>appid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>